<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lowering · LoopVectorization.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>LoopVectorization.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><a class="toctext" href="../../getting_started/">Getting Started</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/matrix_multiplication/">Matrix Multiplication</a></li><li><a class="toctext" href="../../examples/matrix_vector_ops/">Matrix-Vector Operations</a></li><li><a class="toctext" href="../../examples/dot_product/">Dot Products</a></li><li><a class="toctext" href="../../examples/sum_of_squared_error/">Sum of squared error</a></li></ul></li><li><a class="toctext" href="../../vectorized_convenience_functions/">Vectorized Convenience Functions</a></li><li><a class="toctext" href="../../future_work/">Future Work</a></li><li><a class="toctext" href="../../api/">API reference</a></li><li><span class="toctext">Developer Documentation</span><ul><li><a class="toctext" href="../overview/">Developer Overview</a></li><li><a class="toctext" href="../loopset_structure/">LoopSet Structure</a></li><li><a class="toctext" href="../constructing_loopsets/">Constructing LoopSets</a></li><li><a class="toctext" href="../evaluating_loops/">Determining the strategy for evaluating loops</a></li><li class="current"><a class="toctext" href>Lowering</a><ul class="internal"></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Developer Documentation</li><li><a href>Lowering</a></li></ul><a class="edit-page" href="https://github.com/chriselrod/LoopVectorization.jl/blob/master/docs/src/devdocs/lowering.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Lowering</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Lowering-1" href="#Lowering-1">Lowering</a></h1><p>The first step to lowering is picking a strategy for lowering the loops. Then a Julia expression is created following that strategy, converting each of the operations into Julia expressions. This task is made simpler via multiple dispatch making the lowering of the components independent of the larger picture. For example, a load will look like</p><pre><code class="language-julia">vload(vptr_A, (i,j,k))</code></pre><p>with the behavior of this load determined by the types of the arguments. Vectorization is expressed by making an index a <code>_MM{W}</code> type, rather than an integer, and operations with it will either produce another <code>_MM{W}</code> when it will still correspond to contiguous loads, or an <code>SVec{W,&lt;:Integer}</code> if the resulting loads will be discontiguous, so that a <code>gather</code> or <code>scatter!</code> will be used. If all indexes are simply integers, then this produces a scalar load or store.</p><footer><hr/><a class="previous" href="../evaluating_loops/"><span class="direction">Previous</span><span class="title">Determining the strategy for evaluating loops</span></a></footer></article></body></html>
